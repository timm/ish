 
[![](https://raw.githubusercontent.com/timm/ish/master/etc/img/banner.png)](https://github.com/timm/ish/blob/master/README.md)[home](http://git.io/ish)
| [code](https://github.com/timm/ish/tree/master/src)
| [discuss](https://github.com/timm/ish/issues)
| [contribute](https://github.com/timm/ish/blob/master/CONTRIB.md)
| [cite](https://github.com/timm/ish/blob/master/CITATION.md)
| [&copy; 2018](https://github.com/timm/ish/blob/master/LICENSE.md)


<img  src="https://zenodo.org/badge/doi/10.5281/zenodo.1172230.svg"> 


______



# Some  Useful (ish) LISP Code

Tested on CLISP <img align=middle src="https://clisp.sourceforge.io/clisp.png" height=30>and  SBCL <img  align=middle src="http://www.sbcl.org/sbclbutton.png" height=30>.

## Install
<img align=right src="http://www.lisperati.com/lisplogo_warning_256.png">


      git clone http://github.com/timm/ish

To test this all works, then

      cd ish/src
      clisp tests
      # or
      sbcl --script tests.lisp

This should execute dozens of tests, one of which will fail (just to show that the test engine can catch failing tests).

## How to Contrib

See [CONTRIB.md](CONTRIB.md)

## Tips

### Running Files

Each file `X.lisp` knows its own dependancies so can be loaded seperately
to all the rest. E.g. (in clisp):

      cd src
      clisp X
      # or
      sbcl --script X.lisp

Most files `X.lisp` comes with a  little executable tutorial on
how to use it in `Xok.lisp`.

Most of the code in these  tutorial are `deftest`s; i.e. unit tests
that check if the right thing is being generated by the functions.
To run  `X.lisp`'s  unit tests, just load its tutorial:

      cd src
      clisp Xok
      # or
      sbcl --script Xok.lisp

### Regression Suite

To run all the unit tests, run:
  
      cd src
      clisp tests
      # or
      sbcl --script tests.lisp

This loads all the `*ok.lisp` files (in alphabetical order), then runs
all their tests.
That code outputs something like the following:

```
; stringok
; test
; string
; listok
; list
; testok
; macrook
; macro

;;; CHARS!
; seeking 3 characters

;;; FRED!
; seeking association list

;;; _AA
; should be one failure
; fail : expected 2

;;; DOITEMS!
; seeking association list

; pass : 4 =  80.0%
; fail : 1 =  20.0%
```

Note the last line-- the ISH test suite contains one 
deliberate failure (so we can test that the unit tests
can catch failing tests).

### Editing

I've been collecting my favorite VIM configs for editing files
(in general) and editing LISP (in partciular). These can be access via:

      cd src
      vim -u ../.vim X.lisp

### Gitting

      git pull
      git commit -am "updating"; git push

Note that this distribution comes with a [.gitignore](.gitignore) that blocks
the usual temporaries from getting inappropriately added to git.

### Annoyances

This code was written to run in SBCL and CLISP. These implementations of LISP
go their own seperate ways on many things, including CLOS. When I just cannot resolve
their differing approaches, I do something to dodge the problem (e.g. go to `defstruct`
rather than `defclass`, or building my own simpler class system called `defthing`).

